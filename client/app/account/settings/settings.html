<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container full-screen-height">
  
  <div class="row">
    
    <div class="row changePasswordRow" ng-hide="true">
      <button type="submit" class="btn btn-lg btn-primary" style="visibility: visible;">
        Change Password
      </button>

      <div class= "changePasswordForm" ng-hide="true">
        <div class="col-sm-4">
          <h1>Change Password</h1>
        </div>
        <div class="col-sm-3">
          <form class="form" name="form" ng-submit="changePassword(form)" novalidate>
            <div class="form-group">
              <label>Current Password</label> 
              <input type="password" name="password" class="form-control" ng-model="user.oldPassword"
                     mongoose-error/>
              <p class="help-block" ng-show="form.password.$error.mongoose">
                  {{ errors.other }}
              </p>
            </div>
            <div class="form-group">
              <label>New Password</label>
              <input type="password" name="newPassword" class="form-control" ng-model="user.newPassword"
                     ng-minlength="3"
                     required/>
              <p class="help-block"
                 ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">
                Password must be at least 3 characters.
              </p>
            </div>
            <p class="help-block"> {{ message }} </p>
            <button class="btn btn-lg btn-primary" type="submit">Save changes</button>
          </form>
        </div>
      </div>
    </div>

    <br>
    <!-- By placing the script tag inside a <form>, a hidden input called stripeToken will be appended to the form when a token is created. -->
    <div ng-hide="true" class="row creditCardRow">
      <form action="/charge" method="POST">
        <script
          src="https://checkout.stripe.com/checkout.js" class="stripe-button"
          data-key="pk_test_dSsuXJ4SmEgOlv0Sz4uHCdiT"
          data-amount="2000"
          data-name="Body App Subscription"
          data-description="1 Month ($30.00)"
          data-image="../../assets/images/body-app-logo-header.png"
          data-locale="auto">
        </script>
      </form>
    </div>
  </div>
</div>
<div ng-include="'components/footer/footer.html'"></div>