<div ng-include="'components/navbar/navbar.html'" class = "mb72"></div>

<div class="page-container-responsive row-space-top-4 row-space-4">
  <div class="row">
    <div ng-include="'components/studioCreationWalkthrough/studioWalkthrough.html'"></div>
    <div class="col-md-3">
      <div ng-include="'components/navbar/sideNav.html'"></div>

      <div class="panel ss-help-panel help-panel-small mt40" ng-show = "classNameHover"> <!-- HELPER TIP -->
        <div class="help-header-icon-container-sm text-center va-container-h">
          <img src="https://www.getbodyapp.com/assets/images/contact-us.png" width="50" height="50" class="col-center">
        </div>
        <div class="panel-body">
          <h4 class="text-center mb8">Class Name</h4>
          <h5 class="mb0 lightgray">Give your class a name for clients to remember. This is what will be shown on your public schedule.</h5>
        </div>
      </div>

      <div class="panel ss-help-panel help-panel-small mt40" ng-show = "specialtyClassHover"> <!-- HELPER TIP -->
        <div class="help-header-icon-container-sm text-center va-container-h">
          <img src="https://www.getbodyapp.com/assets/images/contact-us.png" width="50" height="50" class="col-center">
        </div>
        <div class="panel-body">
          <h4 class="text-center mb8">Specialty Class</h4>
          <h5 class="mb0 lightgray">Specialty classes are perfect for workshops or events that have unique pricing outside of your studio's standard subscription or drop in rate.</h5>
        </div>
      </div>

      <div class="panel ss-help-panel help-panel-small mt40" ng-show = "openToHover"> <!-- HELPER TIP -->
        <div class="help-header-icon-container-sm text-center va-container-h">
          <img src="https://www.getbodyapp.com/assets/images/contact-us.png" width="50" height="50" class="col-center">
        </div>
        <div class="panel-body">
          <h4 class="text-center mb8">Open To</h4>
          <h5 class="mb0 lightgray">Types of customers that will be able to sign up for this class.</h5>
        </div>
      </div>

      <div class="panel ss-help-panel help-panel-small mt40" ng-show = "equipmentHover"> <!-- HELPER TIP -->
        <div class="help-header-icon-container-sm text-center va-container-h">
          <img src="https://www.getbodyapp.com/assets/images/contact-us.png" width="50" height="50" class="col-center">
        </div>
        <div class="panel-body">
          <h4 class="text-center mb8">Equipment Required</h4>
          <h5 class="mb0 lightgray">This will be displayed on your storefront and tells clients what equipment they need for this class.</h5>
        </div>
      </div>

      <div class="panel ss-help-panel help-panel-small mt40" ng-show = "classDescriptionHover"> <!-- HELPER TIP -->
        <div class="help-header-icon-container-sm text-center va-container-h">
          <img src="https://www.getbodyapp.com/assets/images/contact-us.png" width="50" height="50" class="col-center">
        </div>
        <div class="panel-body">
          <h4 class="text-center mb8">Class Description</h4>
          <h5 class="mb0 lightgray">Help your customers understand what they're getting themselves into. Tell them if it's a beginner or advanced class or if there is prior experience necessary.</h5>
        </div>
      </div>

      <div class="space-top-4 space-4">
        <a href="#" class="btn btn-block" ng-click = "showAddClass = true; showEditClass = false; scrollTop();">Add Class Type</a>
      </div>
    </div>

    <div class="col-md-9">

      <div class="panel space-4" ng-if = "!savedClassTypes">   <!-- No classes added yet -->
        <div class="panel-body">
          <div class="row col-sm-12">
            <h5 class="mb8">Looks like you don't have any classes created yet! Classes help create variety for your clients. Use class names that will be easy to understand (e.g. Fundamentals, Level One, Advanced, etc).</h5>
            <!-- <a href="#" ng-click="showAddClass = true; showEditClass = false; scrollTop();">Add Class Type<i class="ti-arrow-circle-right icon-spacing"></i></a> -->
          </div>
        </div>
      </div>

      <div class="panel space-4" ng-show = "showAddClass || showEditClass">   <!-- Add Class PANEL -->
        <div class="panel-header">
          <span ng-if = "showAddClass"> Add Class </span>
          <span ng-if = "showEditClass"> Edit Class </span>
          <ul class="panel-action-list">
            <li>
              <a href="#" class="panel-action-item" ng-click = "showAddClass = false; showEditClass = false;"><i class="ti-close"></i></a>
            </li>
          </ul>
        </div>
        <div class="panel-body">

          <div class="row space-4">
            <label class="col-sm-3" for="class-name">
              Class Name
            </label>
            <div class="col-sm-9">
              <div style = "color: red" ng-show = "missingName">You're missing a class name!</div>
              <div ng-mouseenter = "classNameHover = true;" ng-mouseleave = "classNameHover = false;">
                <input ng-if = "showAddClass" id="class-name" ng-model = "classToCreate.name" name="" size="30" type="text" placeholder="e.g. Level One">
                <input ng-if = "showEditClass" id="class-name" ng-model = "showEditClass.classToEdit.name" name="" size="30" type="text" placeholder="e.g. Level One">
              </div>
              <h5 class="lightgray mt8 mb8">Give your class a name for clients to remember. This is what will be shown on your public schedule.</h5>
              <div class="row col-sm-12" ng-mouseenter = "specialtyClassHover = true;" ng-mouseleave = "specialtyClassHover = false;">
                <input ng-if = "showAddClass" id="specialty-class-check" ng-model = "classToCreate.specialtyClass" name="specialty-class" size="15" type="checkbox">
                <input ng-if = "showEditClass" id="specialty-class-check" ng-model = "showEditClass.classToEdit.specialtyClass" name="specialty-class" size="15" type="checkbox">
                <label for="specialty-class-check" class="check-selector">
                  Specialty Class
                </label>              
              </div>
              <!-- <div class="row col-sm-12">
                <input id="first-timers" ng-model = "classToCreate.firstTimers" name="first-timers" size="15" type="checkbox">
                <label for="first-timers" class="check-selector">
                  Can be taken by first timers
                </label>               
              </div>       -->
            </div>            
          </div>

          <div class="row space-4" ng-show = "classToCreate.specialtyClass || showEditClass.classToEdit.specialtyClass" ng-mouseenter = "specialtyClassHover = true;" ng-mouseleave = "specialtyClassHover = false;">
            <label class="col-sm-3" for="specialty-class-price">
              Specialty Rate
            </label>
            <div class="col-sm-9">
              <div class="row">
                <div class="input-addon col-sm-3">
                  <span class="input-prefix">
                    <span>$</span>
                  </span>
                  <input ng-if = "showAddClass" type="text" ng-model = "classToCreate.specialtyClassRate" inputmode="numeric" id="specialty-class-price" class="input-stem">
                  <input ng-if = "showEditClass" type="text" ng-model = "showEditClass.classToEdit.specialtyClassRate" inputmode="numeric" id="specialty-class-price" class="input-stem">
                </div>
                <label class="lightgray">
                  USD
                </label>                             
              </div>
              <h5 class="lightgray row col-sm-12 mt8 mb8">Unique pricing for workshops or specialty workouts.</h5>
            </div>
          </div>

          <div class="row space-4">
            <label class="col-sm-3" for="class-reg-types">
              Open To
            </label>
            <div class="col-sm-9" ng-mouseenter = "openToHover = true;" ng-mouseleave = "openToHover = false;">
              <div class="select" >
                <select ng-if = "showAddClass" id="class-reg-types" ng-init = "classToCreate.openTo = 'All (Members &amp; Drop Ins)'" ng-model = "classToCreate.openTo">
                  <option>All (Members &amp; Drop Ins)</option>
                  <option>Members Only</option>
                  <option>Drop Ins Only</option>
                </select>
                <select ng-if = "showEditClass" id="class-reg-types" ng-model = "showEditClass.classToEdit.openTo">
                  <option>All (Members &amp; Drop Ins)</option>
                  <option>Members Only</option>
                  <option>Drop Ins Only</option>
                </select>
              </div>
            </div>
          </div>

          <div class="row space-4" ng-mouseenter = "equipmentHover = true;" ng-mouseleave = "equipmentHover = false;">
            <label class="col-sm-3" for="equipment-needed">
              Equipment Required
            </label>
            <div class="col-sm-9" ng-if = "showAddClass">
              <tags-input id="equipment-needed" 
                ng-model="classToCreate.equipment" 
                size="30"
                display-property="name" 
                placeholder="e.g. Dumbbells" 
                replace-spaces-with-dashes="false"
                template="tag-template"
                >
                <auto-complete source="loadEquipment($query)"
                  min-length="0"
                  load-on-focus="true"
                  load-on-empty="true"
                  max-results-to-show="32"
                  template="autocomplete-template">
                 </auto-complete>
              </tags-input>
            </div>            
            <div class="col-sm-9" ng-if = "showEditClass">
              <tags-input id="equipment-needed" 
                ng-model="showEditClass.classToEdit.equipment" 
                size="30"
                display-property="name" 
                placeholder="e.g. Dumbbells" 
                replace-spaces-with-dashes="false"
                template="tag-template"
                >
                <auto-complete source="loadEquipment($query)"
                  min-length="0"
                  load-on-focus="true"
                  load-on-empty="true"
                  max-results-to-show="32"
                  template="autocomplete-template">
                 </auto-complete>
              </tags-input>
            </div>            
          </div>

          <div class="row space-4" ng-mouseenter = "classDescriptionHover = true;" ng-mouseleave = "classDescriptionHover = false;">
            <label class="col-sm-3" for="class-description">
              Class Description
            </label>
            <div class="col-sm-9">
              <div style = "color: red" ng-show = "missingDescription">You're missing a description! Doesn't have to be long, but please add one.</div>
              <div style = "color: red" ng-show = "descriptionTooLong">Your description is currently {{descriptionTooLong}} characters, please make it less than 200 characters! </div>
              <textarea ng-if = "showAddClass" cols="40" rows="5" id="class-description" placeholder="0/200 characters" ng-model = "classToCreate.classDescription"></textarea>
              <textarea ng-if = "showEditClass" cols="40" rows="5" id="class-description" placeholder="0/200 characters" ng-model = "showEditClass.classToEdit.classDescription"></textarea>
              <h5 class="lightgray mt8 mb8">Class descriptions help your customers understand what they're getting themselves into. Tell them if it's a beginner or advanced class or if there is prior experience necessary.</h5>     
            </div>            
          </div>

          <div class="row">
            <div class="col-sm-12">
              <ul class="panel-action-list">
                <li>
                  <a href="#" class="panel-action-item" ng-click = "showAddClass = false; showEditClass = false">Cancel</a>
                </li>
                <li ng-if = "showAddClass">
                  <a href="#" class="panel-action-item btn-primary btn" ng-click = "saveClassType(classToCreate)">Save</a>
                </li>            
                <li ng-if = "showEditClass">
                  <a href="#" class="panel-action-item btn-primary btn" ng-click = "updateClassType(showEditClass.classKey, showEditClass.classToEdit)">Update</a>
                </li>            
              </ul>              
            </div>
          </div>

        </div>
      </div>
<!-- FORM PANEL END-->



<!-- PANEL -->
      <div class="panel space-4" ng-repeat = "(key, classType) in savedClassTypes | orderBy: '-updated'">
        <div class="panel-header" >
          {{classType.name}}
          <ul class="panel-action-list">
            <li>
              <a href="#" class="panel-action-item" ng-click = "editClass(key, classType)">Edit</a>
            </li>
            <li>
              <a href="#" class="panel-action-item" ng-click = "deleteClassType(classType.id)">Delete</a>
            </li>            
          </ul>
        </div>
        <div class="panel-body">
          <div class="row">
            <div class="col-sm-4 mb16">
              <h5 class="mb0">Open To</h5>
              <h5 class="lightgray">{{classType.openTo}}</h5>
            </div>
            <div class="col-sm-3 mb16">
              <h5 class="mb0">Requires</h5>
              <ul>
                <li ng-repeat = "item in classType.equipment">
                  <h5 class="lightgray">{{item.name}}</h5>
                </li>             
              </ul>
            </div>
  <!--      
  NOT MVP
            <div class="col-sm-2">
              <h5 class="mb0">Scheduled</h5>
              <h5 class="lightgray">24 Times</h5>
            </div>
  -->            
          </div>
          <div class="row">
            <div class="col-sm-12">
              <h5 class="mb0">Description</h5>
              <h5 class="lightgray mb0">{{classType.classDescription}}</h5>
            </div>
          </div>
        </div>
      </div>
<!-- PANEL END--> 

      <div class="subpanel-btn">
        <a href="#" ng-click = "showAddClass = true; showEditClass = false; scrollTop();">Add Class Type<i class="ti-arrow-circle-right icon-spacing"></i></a>
      </div>

    </div>

  </div>
</div>

<!-- Used for the tags inputs -->
<script type="text/ng-template" id="tag-template">
  <div class="tag-template">
    
    <div class="right-panel">
      <span>{{$getDisplayText()}}</span>
      <a class="remove-button" ng-click="$removeTag()">&#10006;</a>
    </div>
  </div>
</script>

<script type="text/ng-template" id="autocomplete-template">
  <div class="autocomplete-template">
    
    <div class="right-panel">
      <span ng-bind-html="$highlight($getDisplayText())"></span>
      
    </div>
  </div>
</script>

<div ng-include="'components/footer/footer.html'"></div>