<div ng-include="'components/navbar/navbar.html'" style="margin-bottom: 40px;"></div>


<div class="container dashboard-list-view">
  <div class="col-sm-3 workout-column">
    <h1>Today's Workout</h1>
    <h3>The Flip Side</h3>
    <p style = "padding-right: 30px">
      We are developing those leg muscles and improving hip and ankle mobility. The Flip Side is all about increasing our workload capacity (endurance) and speed with which you can transition from exercise to exercise.<br><br>
      <strong>Concentration</strong><br>
      Hip and ankle mobility<br><br>
      <strong>Skill Development</strong><br>
      Yoga Pushup<br><br>
      <strong>Workout</strong><br>
      Air Squats<br>Burpees<br>V-ups
    </p>
  </div>

    <!--end of left sidebar-->
    <tour step="currentStep">
      <div class="col-md-9">
        <!--reserved classes-->
        <div class="your-classes col-md-12 mb32">

          <h3 class="uppercase text-center mb16">Your Classes</h3>
          <div class="reservations">
<!--             <span tourtip-step = "1"
                  tourtip="Normally, you'd have to wait until 30 minutes before your class.  But we'll just go ahead and let you in right now!" 
                  tourtip-next-label="Click Join Now Button"
                  tourtip-placement="right"
                  tourtip-offset-horizontal="525"  
                  tourtip-offset-vertical="-25"  
            ></span> -->
            
              <table class="reservations-table" ng-repeat="day in days">
                <tbody ng-repeat="slot in day.slots" ng-if="slot.bookedUsers[currentUser._id] && !slot.past">
                  <tr >
                    <td class = "col-md-9">
                      <span id="dark-text" >{{slot.level}} with {{slot.trainer.firstName}} {{slot.trainer.lastName}} - {{getFormattedDateTime(slot).dayOfWeek}}, {{getFormattedDateTime(slot).month}} {{getFormattedDateTime(slot).day}} at {{getFormattedDateTime(slot).classTime}} ET</span>
                    </td>
                    <td class = "col-md-3" ng-if = "slot.date <= (timeNow + 1000*60*15)">
                      <a class="btn btn-filled btn-sm reserved-class start-class" ng-class = "{startClassHovering: isHovering}" ng-mouseover = "isHovering = true;" ng-mouseleave = "isHovering = false;" ng-click = "setClassUserJustJoined(slot)" href="/classstarting">JOIN NOW</a>
                    </td>
                    <td class = "col-md-3" ng-if = "slot.date > (timeNow + 1000*60*15)">
                      <a class="btn btn-filled btn-sm reserved-class" ng-class = "{hovering: isHovering}" ng-mouseover = "isHovering = true;" ng-mouseleave = "isHovering = false;" href="#"><i class="ti-facebook"></i>&nbsp; {{formattedWaitTime(slot.date,timeNow)}}</a>
                    </td>
                  </tr>
              </tbody>
              <tbody ng-repeat="slot in day.slots" ng-if="(slot.trainer._id === currentUser._id) && !slot.past">
                  <tr >
                    <td class = "col-md-9">
                      <span id="dark-text" >You are teaching {{getFormattedDateTime(slot).dayOfWeek}}, {{getFormattedDateTime(slot).month}} {{getFormattedDateTime(slot).day}} at {{getFormattedDateTime(slot).classTime}} ET</span>
                    </td>
                    <td class = "col-md-3" ng-if = "slot.date <= (timeNow + 1000*60*15)">
                      <a class="btn btn-filled btn-sm reserved-class start-class" ng-class = "{startClassHovering: isHovering}" ng-mouseover = "isHovering = true;" ng-mouseleave = "isHovering = false;" ng-click = "setClassUserJustJoined(slot)" href="/classstarting">TEACH NOW</a>
                    </td>
                    <td class = "col-md-3" ng-if = "slot.date > (timeNow + 1000*60*15)">
                      <a class="btn btn-filled btn-sm reserved-class" ng-class = "{hovering: isHovering}" ng-mouseover = "isHovering = true;" ng-mouseleave = "isHovering = false;" href="#"><i class="ti-facebook"></i>&nbsp; {{formattedWaitTime(slot.date,timeNow)}}</a>
                    </td>
                  </tr>
              </tbody>
            </table>
          </div>
        </div>
        <!--end of reserved classes-->

        <!--schedule-->
        <div class="col-md-12">

          <h3 class="uppercase text-center">Class Schedule</h3>
          <div class="week-select mb32" style = "text-align:center;">
            <a href="" ng-hide = "thisWeek" ng-click = "setCalendarToThisWeek()">&larr; Previous Week</a>
            <a href="" ng-show = "thisWeek" ng-click = "setCalendarToNextWeek()">Next Week &rarr;</a>
          </div>
          <div class = "text-center">
            <!-- <label class = "showAvailableClassesLabel">
              <input  type="checkbox" name="availableClasses" value="availableClasses" ng-model = "availableClasses" checked>
              <span style = "color:black">Only show available classes</span>
            </label>
            
          </div>
          <div class="row times container-fluid">
            

            
            <!-- <div class = "col-xs-4 col-md-5 col-lg-5" ></div> -->
            
              <div class = "col-xs-0 col-sm-1 col-md-3 col-lg-2" ></div>
              <div>
                <div class="col-sm-1 text-center columnStyle column" id="scheduleColumn" ng-repeat="day in days">        
                  <!-- <h3 ng-show="day.isToday">Today</h3> -->
                  <h4 class = "dateTitles" ng-hide="day.isToday">{{ day.name }}</h4>
                  <h5 class = "dateTitles">{{ day.formattedDate }}</h5>
                  
                  <div class="time-slot" ng-repeat="slot in day.slots">     

                    <input type="checkbox" id="{{ day.name }}-{{ $index }}" ng-model="slot.bookedUsers[currentUser._id]" ng-disabled=" slot.bookedUsers[currentUser._id] || slot.classFull || slot.past || (slot.trainer._id === currentUser._id)" ng-click="openBookingConfirmation(slot);">
                    <!-- <input type="checkbox" id="{{ day.name }}-{{ $index }} classFull" ng-model="slot.classFull" ng-disabled="slot.classFull"> -->  

                    <label ng-hide = "availableClasses && (slot.past || slot.classFull)" for="{{ day.name }}-{{ $index }}">{{ slot.time }}<br>
                      <span ng-if="slot.bookedUsers[currentUser._id] && !slot.past" style="font-style:italic">Booked</span>
                      <span ng-if="slot.classFull && !slot.bookedUsers[currentUser._id] && !slot.past" style="font-style:italic">Class Full</span>
                      <span ng-if="slot.past && !slot.bookedUsers[currentUser._id]" style="font-style:italic">Class Over</span>
                      <span ng-if="!slot.past && (slot.trainer._id === currentUser._id)" style="font-style:italic">Teaching</span>
                      <span ng-if="slot.past && (slot.trainer._id === currentUser._id)" style="font-style:italic">Taught</span>
                      <span ng-if="!slot.bookedUsers[currentUser._id] && !slot.classFull && !slot.past && (slot.trainer._id != currentUser._id)" style="font-style:italic">Available</span>
                      <span ng-if="slot.bookedUsers[currentUser._id] && slot.past" style="font-style:italic">Taken</span>
                      <br>
                      <div ng-if = "slot.trainer._id != currentUser._id">{{slot.trainer.firstName}}</div>
                      <div ng-if = "slot.trainer._id != currentUser._id">{{slot.trainer.lastName}}</div>
                      <div ng-if = "slot.trainer._id === currentUser._id">YOU</div>
                      <div ng-if = "slot.trainer._id === currentUser._id">{{getNumberOfBookedUsers(slot)}} In Class</div>

                    </label>

                  </div>

                </div> 

              </div>
          </div>
        </div>

        </div>
        <!--end of schedule-->
      </div>
    </div>
</div>
</tour> 
<div ng-include="'components/footer/footer.html'"></div>