<div ng-include="'components/navbar/navbar.html'" class = "mb72"></div>
<tour step = "currentStep">
<div class="container">
<section class="white-section-half">
  
  <span tourtip-step = "3"
    tourtip="Tip #4: Check out the results tab to learn about past workouts as well as your scores for classes you took. You'll also see how you stack up against your friends and the BODY Community." 
    tourtip-element="#tour-results"
    tourtip-next-label="Finish tour"
    tourtip-placement="bottom"
    tourtip-animation="false"
    tourtip-offset-horizontal = "0"
    tourtip-offset-vertical = "0">
  </span>
    <div id="tour-workout" class="col-sm-5 sideDivider">
      <h1 class="darkblue">Today's Workout</h1>
      <h3 class="royalblue bold mb8">{{wod.title}}</h3>
      <p>{{wod.description}}</p>
      <span tourtip-step = "0"
        tourtip="This is where today's workout will be posted. Each day consists of one or multiple modules that include Skill Work, Strength Training, HIIT, Mobility, and the Daily Challenge. Each of our classes provide scaling options for trainees at any ability level."
        tourtip-element="#tour-workout"
        tourtip-next-label="Next tip"
        tourtip-placement="right"
        on-show="tourtipShown()"
        tourtip-animation="false"
        tourtip-offset-horizontal = "0"
        tourtip-offset-vertical = "0">
      </span>
      <ul class="dash-workoutModules">
        <li>
          <span>
            <span class="gray bold" ng-if = "wod.workout.module1">I. {{wod.workout.module1.title}}</span>
            <div ng-repeat = "bullet in wod.workout.module1.bullets">{{bullet}}</div>
          </span>
        </li>
        <li>
          <span>
            <span class="gray bold" ng-if = "wod.workout.module2">II. {{wod.workout.module2.title}}</span>
            <div ng-repeat = "bullet in wod.workout.module2.bullets">{{bullet}}</div>
          </span>
        </li>
        <li>
          <span>
            <span class="gray bold" ng-if = "wod.workout.module3">III. {{wod.workout.module3.title}}</span>
            <div ng-repeat = "bullet in wod.workout.module3.bullets">{{bullet}}</div>
          </span>
        </li>
        <li>
          <span>
            <span class="gray bold" ng-if = "wod.workout.module4">IV. {{wod.workout.module4.title}}</span>
            <div ng-repeat = "bullet in wod.workout.module4.bullets">{{bullet}}</div>
          </span>
        </li>
      </ul>
    </div>

    <div class="col-sm-7 top-scroll" style="padding-left: 30px;">
      <div id="tour-reservation">
        <h1 class="darkblue">Your Reservations</h1>
        <span tourtip-step = "1"
          tourtip="Tip #2: This is where we list your current class reservations. As you can see, your Introductory Class reservation is now listed here." 
          tourtip-element="#tour-reservation"
          tourtip-next-label="Next tip"
          tourtip-placement="left"
          tourtip-animation="false"
          tourtip-offset-horizontal = "0"
          tourtip-offset-vertical = "0">
        </span>
        <!-- RESERVATIONS -->
        <div class="reservation-listing">
            <div class="date-col pb0">
              <h5 class="darkblue bold">Date</h5>
            </div>
            <div class="class-col pb0">
              <h5 class="darkblue bold">Class</h5>
            </div>
            <div class="instr-col pb0">
              <h5 class="darkblue bold">Instructor</h5>
            </div>
            <div class="action-col pb0">
              <h5 class="darkblue bold">Action</h5>
            </div>
            <hr>
        </div>       
        <div ng-repeat="day in days">
          <div class="reservation-listing" ng-repeat="slot in day.slots" ng-if="slot.bookedUsers[currentUser._id] && !slot.past">
            <div class="date-col mb8">
              <span>{{getFormattedDateTime(slot).dayOfWeek}}, {{getFormattedDateTime(slot).month}} {{getFormattedDateTime(slot).day}} at {{getFormattedDateTime(slot).classTime}} EST</span>
            </div>
            <div class="class-col mb8">
              <span>{{slot.level}}</span>
            </div>
            <div class="instr-col mb8">
              <span>{{slot.trainer.firstName}} {{slot.trainer.lastName}}</span>
            </div>
            <div class="action-col mb8" ng-if = "slot.date <= (timeNow + 1000*60*15)">
              <a class="starting btn" ng-class = "{startClassHovering: isHovering}" ng-mouseover = "isHovering = true;" ng-mouseleave = "isHovering = false;" ng-click = "setClassUserJustJoined(slot)" href="/classstarting">Join Class</a>
              <a class="cancel-btn" title="Remove" ng-mouseover = "removeText = true" ng-mouseleave = "removeText = false" href="#" ng-click = "cancelClass(slot)">x</a>
              <span ng-show="removeText" class="animate-show" style = "font-size: 8px; float:right; padding-top:4px;">Remove</span>
            </div>
            <div class="action-col mb8" ng-if = "slot.date > (timeNow + 1000*60*15)">
              <a class="btn" ng-class = "{hovering: isHovering}" ng-mouseover = "isHovering = true;" ng-mouseleave = "isHovering = false;" href="#">{{formattedWaitTime(slot.date,timeNow)}}</a>
              <a class="cancel-btn" title="Remove" ng-mouseover = "removeText = true" ng-mouseleave = "removeText = false" href="#" ng-click = "cancelClass(slot)">x</a>
              <span ng-show="removeText" class="animate-show" style = "font-size: 8px; float:right; padding-top:4px;">Remove</span>
            </div>        
          </div>

          <div class="reservation-listing" ng-repeat="slot in day.slots" ng-if="(slot.trainer._id === currentUser._id) && !slot.past">
            <div class="date-col mb8">
              <span>{{getFormattedDateTime(slot).dayOfWeek}}, {{getFormattedDateTime(slot).month}} {{getFormattedDateTime(slot).day}} at {{getFormattedDateTime(slot).classTime}} EST</span>
            </div>
            <div class="class-col mb8">
              <span>{{slot.level}}</span>
            </div>
            <div class="instr-col mb8">
              <span>You</span>
            </div>
            <div class="action-col mb8" ng-if = "slot.date <= (timeNow + 1000*60*15)">
              <a class="starting btn" ng-class = "{startClassHovering: isHovering}" ng-mouseover = "isHovering = true;" ng-mouseleave = "isHovering = false;" ng-click = "setClassUserJustJoined(slot)" href="/classstarting">Join Class</a>
              <a class="cancel-btn" title="Remove" ng-mouseover = "removeText = true" ng-mouseleave = "removeText = false" href="#" ng-click = "cancelClass(slot)">x</a>
              <span ng-show="removeText" class="animate-show" style = "font-size: 8px; float:right; padding-top:4px;">Remove</span>
            </div>
            <div class="action-col mb8" ng-if = "slot.date > (timeNow + 1000*60*15)">
              <a class="btn" ng-class = "{hovering: isHovering}" ng-mouseover = "isHovering = true;" ng-mouseleave = "isHovering = false;" href="#">{{formattedWaitTime(slot.date,timeNow)}}</a>
              <a class="cancel-btn" title="Remove" ng-mouseover = "removeText = true" ng-mouseleave = "removeText = false" href="#" ng-click = "cancelClass(slot)">x</a>
              <span ng-show="removeText" class="animate-show" style = "font-size: 8px; float:right; padding-top:4px;">Remove</span>
            </div>        
          </div>
        </div>  
      </div>
      <div class="mt24 text-center"><a class="scroller arrow-scroll" href="#">Add more classes&nbsp;&nbsp;<i class="ti-arrow-circle-down"></i></a></div>

    </div>

  <!-- END RESERVATION SECTION -->
</section>
</div>

<section class="week-schedule scroll-to mb72">
  <div id="tour-classes" class="container">
    <div class="col-sm-9">
      <h1 class="darkblue">BODY Class Schedule</h1>
    </div>
    <div class="col-sm-3">
      <h4 class="week-selector darkblue bold" ng-show = "days">
        <a href=""><i class="ti-arrow-circle-left" ng-hide = "thisWeek" ng-click = "setCalendarToThisWeek()"></i></a>
        &nbsp;{{days[0].formattedDate}} - {{days[6].formattedDate}}&nbsp;
        <a href=""><i class="ti-arrow-circle-right" ng-show = "thisWeek" ng-click = "setCalendarToNextWeek()"></i></a>
      </h4>
    </div>
  </div>

    <span tourtip-step = "2"
      tourtip="Tip #3: Here's where you can reserve classes and even see which ones your friends will be taking. Level One classes are great for the 3x/week trainee or newcomers looking to ramp up their fitness level and fitness education. Level Two builds upon Level One foundations by adding more complex movements and weight to our routine. Level Three is dedicated to optimizing performance and body definition." 
      tourtip-element="#tour-classes"
      tourtip-next-label="Next tip"
      tourtip-placement="top"
      tourtip-animation="false"
      tourtip-offset-horizontal = "0"
      tourtip-offset-vertical = "0">
    </span>

  <div class="col-day" ng-repeat="day in days">
    <div class = "fixedAtTop">
      <div class="day-and-date text-center">
        <span class="day bold">{{ day.name }}</span>
        <span class="date bold">{{ day.formattedDate }}</span>
      </div>
      <div class="workout-and-module text-center">
        <span class="wod-title bold">The Flip Side</span>
        <span class="wod-module">Hip Openers</span>
      </div>
    </div>
    <div ng-repeat="slot in day.slots">
      <div class="sched-class" ng-class = "{unavailable: slot.past}">
        <span class="class-time">{{ slot.time }}</span>
        <span class="class-instr bold">{{slot.trainer.firstName}} {{slot.trainer.lastName}}</span>
        <div class="class-type lvl1"><span>{{slot.level}}</span></div>
        <div class="class-booking"><a class="reserve btn" href="#" ng-if = "!slot.bookedUsers[currentUser._id] && !slot.classFull" ng-click = "openBookingConfirmation(slot);" ng-disabled = "slot.past">reserve</a></div>
        <div class="class-booking"><a class="booked btn" href="#" ng-if = "slot.bookedUsers[currentUser._id] && !slot.classFull" ng-click = "scrollToTop()">booked</a></div>
        <div class="class-booking"><a class="full btn" href="#" ng-if = "slot.classFull" ng-disabled = "true">class full</a></div>
        <div class="my-friends mt16 mb8" >
          <div class="qty" ng-init = "friendList = checkIfFriends(slot)" >{{friendList.length}} 
            <span ng-show = "friendList.length != 1">friends in class</span> 
            <span ng-show = "friendList.length === 1">friend in class</span> 
            </div>
          <img class="profile" ng-src="{{pictureData[friendList[0]].picture}}">
          <img class="profile" ng-src="{{pictureData[friendList[1]].picture}}">
          <img class="profile" ng-src="{{pictureData[friendList[2]].picture}}">
          <!-- <div class="empty"></div>
          <div class="empty"></div> -->
        </div>
      </div>
    </div>
  </div>
  
</section>
</tour>

<div ng-include="'components/footer/footer.html'"></div>