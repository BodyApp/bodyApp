<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container white-section">
<section class="mt32">
	<h1>Workout History</h1>
</section>

<section class="col-md-2">
	<!-- <div class="text-center"><a href="">Next Week &rarr;</a></div> -->
	<ul class="classArchive mb0" ng-repeat = "day in dayList">
		<li ng-class="{selectedWod: selected}" ng-mouseover = "selected = true;" ng-mouseleave = "selected = false" ng-click = "switchToDay(wods[formattedWodDate(day)])">
			<a href="">
				<h5 class="wodDate">{{formattedDayOfWeek(day)}} {{formattedMonth(day)}} {{day.getDate()}}, {{day.getFullYear()}}</h5>
				<h5 class="wod">{{wods[formattedWodDate(day)].title}}</h5>
			</a>
		</li>
		<!-- <li>
			<a href="">
				<h5 class="wodDate">Mon Jan 11, 2015</h5>
				<h5 class="wod">The Flip Side</h5>
			</a>
		</li>
		<li>
			<a href="">
				<h5 class="wodDate">Jan 7, 2015</h5>
				<h5 class="wod">The Flip Side</h5>
			</a>
		</li>
		<li>
			<a href="">
				<h5 class="wodDate">Jan 7, 2015</h5>
				<h5 class="wod">The Flip Side</h5>
			</a>
		</li>
		<li>
			<a href="">
				<h5 class="wodDate">Jan 7, 2015</h5>
				<h5 class="wod">The Flip Side</h5>
			</a>
		</li>
		<li>
			<a href="">
				<h5 class="wodDate">Jan 7, 2015</h5>
				<h5 class="wod">The Flip Side</h5>
			</a>
		</li>
		<li>
			<a href="">
				<h5 class="wodDate">Jan 7, 2015</h5>
				<h5 class="wod">The Flip Side</h5>
			</a>
		</li>				 -->								
	</ul>

	<!-- <div class="text-center"><a href="">&larr; Previous Week</a></div> -->
</section>

<section class="col-sm-10 mb16" ng-if = "wodToDisplay">
	<!-- The workout of the day -->
	<h2 class = "mb0">{{wodToDisplay.title}}</h2>
	<h4>{{formattedDayOfWeek(wodToDisplay.dateTime)}} {{formattedMonth(wodToDisplay.dateTime)}} {{fixDate(wodToDisplay.dateTime).getDate()}}, {{fixDate(wodToDisplay.dateTime).getFullYear()}}</h4>
	<p ng-show = "wodToDisplay.description">{{wodToDisplay.description}}</p>
	<ul class="workoutModules">
		<li ng-show = "wodToDisplay.challenge">
				<span style = "display:block; font-weight:bold;">{{wodToDisplay.scoreType.label}}</span>
				<div ng-repeat = "bullet in wodToDisplay.challenge.bullets">{{bullet}}</div><br>
		</li>
		<!-- <li ng-show = "wodToDisplay.workout.module1">
				<span style = "display:block; font-weight:bold;">I. {{wodToDisplay.workout.module1.title}}</span>
				<div ng-repeat = "bullet in wodToDisplay.workout.module1.bullets">{{bullet}}</div><br>
		</li>
		<li ng-show = "wodToDisplay.workout.module2">
				<span style = "display:block; font-weight:bold;">II. {{wodToDisplay.workout.module2.title}}</span>
				<div ng-repeat = "bullet in wodToDisplay.workout.module2.bullets">{{bullet}}</div><br>
		</li>
		<li ng-show = "wodToDisplay.workout.module3">
				<span style = "display:block; font-weight:bold;">III. {{wodToDisplay.workout.module3.title}}</span>
				<div ng-repeat = "bullet in wodToDisplay.workout.module3.bullets">{{bullet}}</div><br>
		</li>
		<li ng-show = "wodToDisplay.workout.module4">
				<span style = "display:block; font-weight:bold;">IV. {{wodToDisplay.workout.module4.title}}</span>
				<div ng-repeat = "bullet in wodToDisplay.workout.module4.bullets">{{bullet}}</div><br>
		</li> -->
	</ul>
</section>

<section class="col-sm-10 mb16">
	<!-- Personal Results -->
	<h4 class="bold" ng-show = "userResultsToday">Personal Result</h4>
	<ul class="personal-results" ng-show = "userResultsToday">
		<li>
			<div class="rank" ng-if = "communityActive"><span>{{myCommunityRank}}</span></div>
			<div class="rank" ng-if = "classmateActive"><span>{{myClassRank}}</span></div>
			<div class="photo"><img src="{{currentUser.picture}}"></div>
			<div class="scoring"><span class="scoreValue">{{formatScore(userResultsToday.score)}}</span><span class="user-first">{{currentUser.firstName}}</span></div>
			<div class="wodComment">{{userResultsToday.comment}}</span></div>
		</li>
	</ul>

	<!-- Rankings -->
	<h4 class="bold">Rankings</h4>
	<div class="mb16">
		<a class="filter-btn" ng-class = "{active: communityActive}" ng-mouseover = "showCommunity()" href="">Community</a>		
		<a class="filter-btn" ng-class = "{active: classmateActive}" ng-mouseover = "showClassmates()" href="">Classmates</a>
	</div>
	<ul class="public-results" >
		<li ng-repeat = "result in rankings">
			<div class="rank"><span>{{result.rank}}</span></div>
			<div class="photo"><img src="{{result.userPicture}}"></div>
			<div class="scoring"><span class="scoreValue">{{formatScore(result.score)}}</span><span class="user-first">{{result.userFirstName}}</span></div>
			<div class="wodComment">{{result.comment}}</span></div>
		</li>
	</ul>

</section>

</div>

<div ng-include="'components/footer/footer.html'"></div>